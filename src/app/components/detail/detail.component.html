<h2 class="text-center">Detalle de Usuario</h2>

<mat-tab-group dynamicHeight>

    <mat-tab label="Datos personales">
        <div class="example-large-box mat-elevation-z4">
            <!--componentes de detalle personal-->
            <form class="example-form">
                <div>
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Nombre</mat-label>
                        <input matInput name="nombre" [(ngModel)]="usuario.nombre">
                    </mat-form-field>

                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Primer Apellido</mat-label>
                        <input matInput name="primerApellido" [(ngModel)]="usuario.primerApellido">
                    </mat-form-field>

                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Segundo Apellido</mat-label>
                        <input matInput name="segundoApellido" [(ngModel)]="usuario.segundoApellido">
                    </mat-form-field>
                </div>
                <div>
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>NIF</mat-label>
                        <input matInput name="NIF" [(ngModel)]="usuario.NIF">
                    </mat-form-field>

                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Género</mat-label>
                        <input matInput name="genero" [(ngModel)]="usuario.genero">
                    </mat-form-field>

                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Fecha de Nacimiento</mat-label>
                        <input matInput name="fechaNacimiento" [(ngModel)]="usuario.fechaNacimiento">
                    </mat-form-field>
                </div>
                <div *ngIf="profesional.numColegiado">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Nº de Colegiado</mat-label>
                        <input matInput name="numColegiado" [(ngModel)]="profesional.numColegiado">
                    </mat-form-field>

                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Tipo de profesional</mat-label>
                        <input matInput name="tipoProfesional" [(ngModel)]="profesional.tipoProfesional">
                    </mat-form-field>

                </div>
                <div *ngIf="paciente.NHC">
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>NHC</mat-label>
                        <input matInput name="NHC" [(ngModel)]="paciente.NHC">
                    </mat-form-field>
                </div>

                <div class="footer-button">
                    <button mat-raised-button color="primary">Editar</button>
                </div>
            </form>

        </div>
    </mat-tab>
    <mat-tab label="Dirección">
        <div class="example-large-box mat-elevation-z4">
            <!--direcciones-->
            <div class="contenedora" *ngIf="usuario.direccion">
                <div>
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Calle</mat-label>
                        <input matInput name="calle" [(ngModel)]="usuario.direccion.calle">
                    </mat-form-field>
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Número</mat-label>
                        <input matInput value="5" [(ngModel)]="usuario.direccion.numero">
                    </mat-form-field>
                </div>
                <div>
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Puerta</mat-label>
                        <input matInput [(ngModel)]="usuario.direccion.puerta">
                    </mat-form-field>
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Código Postal</mat-label>
                        <input matInput maxlength="5" placeholder="Ex. 94105"
                            [(ngModel)]="usuario.direccion.codigoPostal">
                        <mat-hint align="end">{{usuario.direccion.codigoPostal.length}} / 5</mat-hint>
                    </mat-form-field>
                    <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Ciudad</mat-label>
                        <input matInput [(ngModel)]="usuario.direccion.ciudad">
                    </mat-form-field>
                </div>
            </div>
        </div>
    </mat-tab>

    <mat-tab label="Aseguradoras" *ngIf="paciente.NHC">

        <div class="example-large-box mat-elevation-z4">
            <div class="container-aseguradora">
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                    <ng-container matColumnDef="numTarjeta">
                        <th mat-header-cell *matHeaderCellDef> Número de la tarjeta </th>
                        <td mat-cell *matCellDef="let element"> {{element.numTarjeta}} </td>
                    </ng-container>
                    <ng-container matColumnDef="nombre">
                        <th mat-header-cell *matHeaderCellDef> Nombre </th>
                        <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
                    </ng-container>
                    <ng-container matColumnDef="tipoSeguro">
                        <th mat-header-cell *matHeaderCellDef> Tipo de seguro </th>
                        <td mat-cell *matCellDef="let element"> {{getNameOfEnum(element.tipoSeguro)}} </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
            </div>
        </div>

    </mat-tab>

</mat-tab-group>